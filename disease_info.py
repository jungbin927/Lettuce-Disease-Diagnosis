# disease_info.py

DISEASE_INFO = {
    "정상": {
        "설명": (
            "정상 잎으로 판단됩니다. 색상, 조직, 결 등이 건강한 상태이며 병징이 관찰되지 않습니다."
        ),
        "대처법": (
            "특별한 조치는 필요하지 않습니다. 다만 추후 변색·반점·시듦 등이 발생하는지 주기적으로 관찰하는 것이 좋습니다."
        ),
    },

    "상추노균병": {
        "설명": (
            "상추노균병은 잎 뒷면에 회색빛 포자 또는 곰팡이가 생성되며, 습한 환경에서 빠르게 확산되는 병입니다. <br>" 
            "초기에는 노란 반점이 생기고 시간이 지나면 잎이 시들거나 수분 장해가 나타날 수 있습니다."
        ),
        "대처법": (
            "감염 잎은 즉시 제거하고 통풍을 충분히 확보해야 합니다. <br>"
            "습도가 높으면 빠르게 번지므로 과습 환경을 피하고, 주변 개체와 분리해 관리하는 것이 좋습니다."
        ),
    },

    "상추균핵병": {
        "설명": (
            "상추균핵병은 잎과 줄기에서 물러짐이 발생하고, 이후 흰 솜털 모양의 균핵이 나타나는 것이 특징입니다. <br>"
            "토양 감염이 많고 고습 환경에서 급격히 확산됩니다."
        ),
        "대처법": (
            "감염된 부위는 즉시 제거하고 토양을 건조하게 유지하세요. <br>"
            "심한 경우 개체 전체를 제거하여 주변 확산을 막는 것이 좋습니다."
        ),
    },
}


def get_confidence_comment(conf):
    """
    확률(0~1)에 따른 모델 확신도 해설 문구
    """
    if conf >= 0.85:
        return "모델이 해당 병해를 매우 강하게 지목하고 있습니다. 신뢰도가 높은 예측입니다."
    elif conf >= 0.60:
        return "해당 병해일 가능성이 높지만 추가적인 관찰이 필요할 수 있습니다."
    elif conf >= 0.40:
        return "모델의 확신도가 높지 않아 다른 병해일 가능성도 존재합니다."
    else:
        return "모델 확신도가 매우 낮습니다. 사진을 다시 촬영하거나 여러 장을 업로드하는 것을 권장합니다."
